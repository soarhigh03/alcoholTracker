<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>딸꾹 — 알콜 트래커</title>
  <meta name="description" content="요즘 새내기들의 알콜 트래커, 딸꾹. 재미있게, 건강하게 마시자!" />
  <!-- Tailwind CSS (CDN for quick start) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Mobile-first canvas; black gutters on wide screens */
    html, body { height: 100%; background:#000; }
    .section { min-height: 100svh; }
    /* Subtle grain for vibe */
    .grain::before { content:""; position:absolute; inset:0; pointer-events:none; opacity:.08; mix-blend:multiply; background-image:url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8"?><svg xmlns="http://www.w3.org/2000/svg" width="300" height="300" viewBox="0 0 300 300"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="4" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.4"/></svg>'); background-size:300px 300px; }
    /* Enter animations */
    .reveal { opacity:0; transform:translateY(12px); transition:opacity .7s ease, transform .7s ease; }
    .reveal.show { opacity:1; transform:translateY(0); }
  </style>
</head>
<body class="text-white">
  <!-- Frame container (mobile width); side space stays black on desktop -->
  <div class="mx-auto w-full max-w-md md:max-w-lg lg:max-w-xl">

    <!-- Hero / First click screen -->
    <section id="hero" class="section relative overflow-hidden grain">
      <div aria-hidden class="absolute top-0 left-0 w-full h-full">
        <img src="assets/images/page1_final.png" alt="" class="absolute top-0 left-0 w-full h-full object-cover object-left-top" style="object-position: left top;" />
      </div>
      <div class="relative z-10 h-full flex flex-col items-center justify-center text-center px-5">
        <!-- Logo overlay (replace with your SVG/PNG) -->
        

      </div>
    </section>

    <section id="ui5" class="relative" style="line-height: 0;">
      <img src="assets/images/ui5-01.png" alt="" class="w-full" style="display: block;" />
      <img src="assets/images/ui5-02.png" alt="" class="w-full" style="display: block;" />
    </section>


    <!-- Email form -->
    <section id="signup" class="py-16" style="background-color: #141414;">
      <div class="px-6">
        <form id="emailForm" name="signup" class="mt-5 grid grid-cols-1 gap-3" method="POST" data-netlify="true" netlify-honeypot="bot-field">
          <input type="hidden" name="form-name" value="signup" />
          <p class="hidden">
            <label>Don't fill this out if you're human: <input name="bot-field" /></label>
          </p>
          <input type="email" required name="email" placeholder="you@example.com" class="w-full rounded-xl bg-zinc-900 border border-white/10 px-4 py-3 text-white placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-white/20" />
          <textarea name="message" placeholder="하고 싶은 말 (선택)" class="w-full rounded-xl bg-zinc-900 border border-white/10 px-4 py-3 text-white placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-white/20" rows="3"></textarea>
          <button type="submit" class="rounded-xl bg-white text-black font-medium px-5 py-3 hover:bg-white/90">보내기</button>
          <p id="formMsg" class="text-sm text-emerald-400 hidden">전송되었습니다! 감사합니다 💌</p>
        </form>
      </div>
    </section>

    <!-- Survey section (hidden by default) -->
    <section id="survey" class="py-16 hidden" style="background-color: #0a0a0a;">
      <div class="px-6">
        <h4 class="text-xl font-semibold">'딸꾹'의 기능 중, 가장 기대되는 기능을 알려주세요!</h4>
        <p class="mt-1 text-zinc-400">새로운 기능 추천도 환영입니다 :)</p>
        <form id="surveyForm" class="mt-6 grid grid-cols-1 gap-4" name="survey" method="POST" data-netlify="true" netlify-honeypot="bot-field-survey">
          <input type="hidden" name="form-name" value="survey" />
          <p class="hidden">
            <label>Don't fill this out if you're human: <input name="bot-field-survey" /></label>
          </p>

          <label class="flex items-start gap-3 cursor-pointer">
            <input type="checkbox" name="features" value="알코올 스트릭을 통한 음주 기록" class="mt-1 w-5 h-5 rounded border-white/20 bg-zinc-900 text-white focus:ring-2 focus:ring-white/20" />
            <span class="text-white">1. 알코올 스트릭을 통한 음주 기록</span>
          </label>

          <label class="flex items-start gap-3 cursor-pointer">
            <input type="checkbox" name="features" value="맞춤형 음주 레포트" class="mt-1 w-5 h-5 rounded border-white/20 bg-zinc-900 text-white focus:ring-2 focus:ring-white/20" />
            <span class="text-white">2. 맞춤형 음주 레포트</span>
          </label>

          <label class="flex items-start gap-3 cursor-pointer">
            <input type="checkbox" name="features" value="나의 음주 정도에 따른 캐릭터 변화" class="mt-1 w-5 h-5 rounded border-white/20 bg-zinc-900 text-white focus:ring-2 focus:ring-white/20" />
            <span class="text-white">3. 나의 음주 정도에 따른 캐릭터 변화</span>
          </label>

          <label class="flex items-start gap-3 cursor-pointer">
            <input type="checkbox" name="features" value="친구의 캐릭터 보기" class="mt-1 w-5 h-5 rounded border-white/20 bg-zinc-900 text-white focus:ring-2 focus:ring-white/20" />
            <span class="text-white">4. 친구의 캐릭터 보기</span>
          </label>

          <label class="flex items-start gap-3 cursor-pointer">
            <input type="checkbox" name="features" value="인앱 게임 (가벼운 술게임, 얼굴인식 취함 점수, 음주 백과사전 등)" class="mt-1 w-5 h-5 rounded border-white/20 bg-zinc-900 text-white focus:ring-2 focus:ring-white/20" />
            <span class="text-white">5. 인앱 게임 (가벼운 술게임, 얼굴인식 취함 점수, 음주 백과사전 등)</span>
          </label>

          <div>
            <label class="flex items-start gap-3 cursor-pointer">
              <input type="checkbox" id="otherCheck" name="features" value="기타" class="mt-1 w-5 h-5 rounded border-white/20 bg-zinc-900 text-white focus:ring-2 focus:ring-white/20" />
              <span class="text-white">6. 기타</span>
            </label>
            <input type="text" id="otherInput" name="other-detail" placeholder="기대되는 기능을 자유롭게 적어주세요" class="mt-2 ml-8 w-full rounded-xl bg-zinc-900 border border-white/10 px-4 py-3 text-white placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-white/20 hidden" />
          </div>

          <button type="submit" class="mt-2 rounded-xl bg-white text-black font-medium px-5 py-3 hover:bg-white/90">제출하기</button>
          <p id="surveyMsg" class="text-sm text-emerald-400 hidden">제출되었습니다! 소중한 의견 감사합니다 💚</p>
        </form>
      </div>
    </section>

    <footer class="py-10 text-center text-xs text-white/50">© <span id="yr"></span> 딸꾹</footer>
  </div>

  <script>
    const enterBtn = document.getElementById('enterBtn');

    // Scroll to the countdown on click / Enter key
    function goToCountdown(){
      document.getElementById('count-10')?.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
    enterBtn?.addEventListener('click', goToCountdown);
    window.addEventListener('keydown', (e)=>{ if(e.key==='Enter') goToCountdown(); });

    // Reveal-on-scroll for feature text blocks
    const io = new IntersectionObserver((entries)=>{
      entries.forEach((e)=>{
        if(e.isIntersecting){
          e.target.classList.add('show');
          io.unobserve(e.target);
        }
      });
    }, { threshold: 0.1 });
    document.querySelectorAll('.reveal').forEach(el=>io.observe(el));

    // Netlify Forms AJAX submission
    const form = document.getElementById('emailForm');
    const msg = document.getElementById('formMsg');
    const surveySection = document.getElementById('survey');

    form?.addEventListener('submit', async (e)=>{
      e.preventDefault();
      const data = new FormData(form);
      try{
        const res = await fetch('/', {
          method:'POST',
          headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
          body: new URLSearchParams(data).toString()
        });
        if(res.ok){
          msg.classList.remove('hidden');
          form.reset();
          // Show survey and scroll to it
          surveySection.classList.remove('hidden');
          setTimeout(() => {
            surveySection.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }, 300);
        } else {
          alert('전송에 실패했습니다. 나중에 다시 시도해주세요.');
        }
      } catch(err){
        alert('네트워크 오류가 발생했습니다.');
      }
    });

    // Survey form submission
    const surveyForm = document.getElementById('surveyForm');
    const surveyMsg = document.getElementById('surveyMsg');
    const otherCheck = document.getElementById('otherCheck');
    const otherInput = document.getElementById('otherInput');

    // Show/hide other input field
    otherCheck?.addEventListener('change', (e) => {
      if (e.target.checked) {
        otherInput.classList.remove('hidden');
      } else {
        otherInput.classList.add('hidden');
        otherInput.value = '';
      }
    });

    surveyForm?.addEventListener('submit', async (e)=>{
      e.preventDefault();
      const data = new FormData(surveyForm);
      try{
        const res = await fetch('/', {
          method:'POST',
          headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
          body: new URLSearchParams(data).toString()
        });
        if(res.ok){
          surveyMsg.classList.remove('hidden');
          surveyForm.reset();
          otherInput.classList.add('hidden');
        } else {
          alert('전송에 실패했습니다. 나중에 다시 시도해주세요.');
        }
      } catch(err){
        alert('네트워크 오류가 발생했습니다.');
      }
    });

    // Footer year
    document.getElementById('yr').textContent = new Date().getFullYear();
  </script>
</body>
</html>
